I"‘X<blockquote>
  <p>ì´ ê¸€ì€ <a href="https://medium.com/@sisosys7">Jannik Buschke</a>ì˜ <a href="https://medium.com/@sisosys7/a-monorepo-setup-with-lerna-react-and-typescript-7b912fb48622"><strong>â€œA monorepo setup with lerna, react and typescriptâ€</strong></a>ì„ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤.</p>
</blockquote>

<p><strong>tl;dr:</strong> ì´ ê¸€ì€ ë‹¨ê³„ë³„ë¡œ Reactì™€ TypeScript ëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” Lerna ê¸°ë°˜ì˜ ëª¨ë…¸ë¦¬í¬ ì…‹íŒ… ë°©ë²•ì„ ì‚´í´ë´…ë‹ˆë‹¤.
ë§Œì•½ ë‹¨ê³„ë³„ë¡œ ë”°ë¼ê°€ë©° ì‚¬ìš©ë²•ì„ ìµíˆê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì•„ë˜ ë ˆí¬ì§€í† ë¦¬ë¥¼ í´ë¡ í•´ì„œ ìŠ¤ìŠ¤ë¡œ ì‚´í´ë´ë„ ë©ë‹ˆë‹¤.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/jannikbuschke/lerna-react-typescript-sample
<span class="nb">cd </span>lerna-react-typescript-sample
npm <span class="nb">install
</span>npm run bootstrap
npm run watch
npm run start <span class="o">(</span>ë‘ë²ˆì§¸ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰<span class="o">)</span>
</code></pre></div></div>

<p>ì´ì œ <code class="language-plaintext highlighter-rouge">/packages/my-module/src/HelloWorld.tsx</code>ì„ ìˆ˜ì •í•˜ê³  http://localhost:3000 ì—ì„œ ë¼ì´ë¸Œë¡œ ë³€ê²½ì‚¬í•­ì„ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<p>ê·¸ëŸ¼ ì´ì œ ë‹¨ê³„ë³„ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.
<br /><br />
<img src="https://miro.medium.com/max/4608/1*xf2rdYux0WcMu6--nbiTiw.jpeg" alt="main" /></p>

<h2 id="lerna-ì„¤ì¹˜-ë°-ìƒì„±">Lerna ì„¤ì¹˜ ë° ìƒì„±</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>lerna-test
<span class="nb">cd </span>lerna-test
npm <span class="nb">install </span>lerna <span class="nt">-g</span>
lerna init
</code></pre></div></div>

<p>ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ê¹ƒ ë¦¬í¬ì§€í† ë¦¬ì™€ ìš°ë¦¬ì˜ ì•±ê³¼ ëª¨ë“ˆì„ ìœ„í•œ ë¹ˆ packages í´ë”(Lerna ì»¨ë²¤ì…˜ì´ì§€ë§Œ í•„ìˆ˜ëŠ” ì•„ë‹˜), ì•±ê³¼ ëª¨ë“ˆì„ íŠ¸ë˜í‚¹í•˜ëŠ” lerna.json, ê·¸ë¦¬ê³  rootì˜ dependencyë¥¼ ê¸°ë¡í•˜ëŠ” package.jsonì´ ìƒì„±ë©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.git/
packages/
lerna.json
package.json
</code></pre></div></div>

<h2 id="ì•±-ìƒì„±í•˜ê¸°">ì•± ìƒì„±í•˜ê¸°</h2>

<p>ì´ì œ ê·¸ ìœ ëª…í•œ create-react-appì„ ì‚¬ìš©í•´ React ì•±ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">npx create-react-app packages/my-app</code></p>

<h2 id="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸-íŒ¨í‚¤ì§€-ìƒì„±">íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íŒ¨í‚¤ì§€ ìƒì„±</h2>

<p>í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">mkdir packages/my-module</code></p>

<p>ë‹¤ìŒìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">package.json</code>ì„ <code class="language-plaintext highlighter-rouge">/packages/my-module/</code> ë””ë ‰í† ë¦¬ ì•ˆì— ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-module"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"lib"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib/index.js"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"types"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib/types.d.ts"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"tsc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsc"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"peerDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 16.8.0 &lt; 17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 16.8.0 &lt; 17"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"@types/jest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.0.11"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@types/node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.13.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@types/react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.8.3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tslib"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.9.3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@types/react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.8.10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.8.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.8.6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">/packages/my-module/tsconfig.json</code> ìœ¼ë¡œ TypeScript ì„¤ì • íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"esnext"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lib"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"es6"</span><span class="p">,</span><span class="w"> </span><span class="s2">"dom"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"sourceMap"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jsx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipLibCheck"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rootDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"src"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forceConsistentCasingInFileNames"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"noImplicitReturns"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"noImplicitThis"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"noImplicitAny"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"importHelpers"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strictNullChecks"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suppressImplicitAnyIndexErrors"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"noUnusedLocals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"declaration"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"declarationMap"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allowSyntheticDefaultImports"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"lib"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"node_modules"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"build"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scripts"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acceptance-tests"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webpack"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jest"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"src/setupTests.ts"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>ì•± ì•ˆì—ì„œ ì‚¬ìš©í•  <code class="language-plaintext highlighter-rouge">/packages/my-module/src/HelloWorld.tsx</code> ë¼ëŠ” ì˜ˆì œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">HelloWorld</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;;</span>
</code></pre></div></div>

<p>ì•± ì•ˆì—ì„œ ëª¨ë“ˆ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ export í•´ì¤ë‹ˆë‹¤.
ì•„ë˜ì˜ ì½”ë“œë¡œ <code class="language-plaintext highlighter-rouge">/packages/my-module/src/index.ts</code> íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./HelloWorld</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<p>íƒ€ì…ì„ ë§Œë“¤ì–´ ì“°ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">/packages/my-module/src/types.ts</code> íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./index</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="ì•±ì—ì„œ-ë¡œì»¬-ëª¨ë“ˆ-ì°¸ì¡°">ì•±ì—ì„œ ë¡œì»¬ ëª¨ë“ˆ ì°¸ì¡°</h2>

<p><code class="language-plaintext highlighter-rouge">/packages/my-app/package.json</code> ì˜ â€œdepenenciesâ€ ë¶€ë¶„ì— ìš°ë¦¬ê°€ ìƒì„±í•œ ëª¨ë“ˆì— ëŒ€í•œ ì°¸ì¡°(reference)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ë§ˆì¹˜ ì´ë¯¸ ë°°í¬í•œ ê²ƒì²˜ëŸ¼ìš”.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"my-module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^16.8.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^16.8.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"react-scripts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1.8"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div></div>

<p>ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ëŒì•„ê°€ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•´ ì¤ë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">lerna bootstrap --hoist</code></p>

<p>ì‹¤í–‰í•˜ë©´ LernaëŠ” dependencyë¥¼ ì„¤ì¹˜í•˜ê³  ëª¨ë“ˆ ê°„ symlinkë¥¼ ìƒì„±í•©ë‹ˆë‹¤. <u>--hoist</u> í”Œë˜ê·¸ëŠ” ê³µí†µëœ dependencyë“¤(ì˜ˆ: ì—¬ëŸ¬ íŒ¨í‚¤ì§€ê°€ ê³µìœ í•˜ëŠ” ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬)ì„ (dependencyë“¤ì— symlinkë¥¼ ì¶”ê°€í•˜ë©°) ë£¨íŠ¸ì˜ node_modules í´ë”ë¡œ ì˜®ê²¨ ì¤‘ë³µì„ ì œê±°í•©ë‹ˆë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.
<br />
<code class="language-plaintext highlighter-rouge">lerna run tsc</code></p>

<p>TypeScript ì»´íŒŒì¼ì„ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œìš”.
TypeScript ì»´íŒŒì¼ì´ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” <code class="language-plaintext highlighter-rouge">npm i typescript -g</code> ëª…ë ¹ì„ ì‚¬ìš©í•´ ì „ì—­ì—ì„œ TypeScriptë¥¼ ì„¤ì¹˜í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">lerna run &lt;ìŠ¤í¬ë¦½íŠ¸&gt;</code> ë¥¼ ì‹¤í–‰í•˜ë©´ LernaëŠ” ì–´ë–¤ íŒ¨í‚¤ì§€ì—ì„œë“  í•´ë‹¹ <code class="language-plaintext highlighter-rouge">&lt;ìŠ¤í¬ë¦½íŠ¸&gt;</code>ê°€ (package.jsondp npm ìŠ¤í¬ë¦½íŠ¸ í˜•íƒœë¡œ) ì •ì˜ëœ ê²ƒì„ ì°¾ì•„ ì‹¤í–‰í•´ ì¤ë‹ˆë‹¤.</p>

<h2 id="my-module-ì»´í¬ë„ŒíŠ¸ë¥¼-ì•±ì—ì„œ-ì‚¬ìš©í•˜ê¸°">my-module ì»´í¬ë„ŒíŠ¸ë¥¼ ì•±ì—ì„œ ì‚¬ìš©í•˜ê¸°</h2>

<p><code class="language-plaintext highlighter-rouge">/packages/my-app/src/App.js</code> íŒŒì¼ì˜ í™•ì¥ìë¥¼ <code class="language-plaintext highlighter-rouge">.tsx</code>ë¡œ ë°”ê¾¸ê³  ë‚´ìš©ì„ ì•„ë˜ ì½”ë“œë¡œ ë³€ê²½í•´ ì¤ë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">HelloWorld</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">my-module</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">HelloWorld</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<p>ì´ì œ ì‹¤í–‰í•´ë³¼ ì‹œê°„ì…ë‹ˆë‹¤.
<br />
<code class="language-plaintext highlighter-rouge">lerna run start</code></p>

<p>ì´ ìŠ¤í¬ë¦½íŠ¼ëŠ” ëª¨ë“  íŒ¨í‚¤ì§€ë“¤ì˜ <code class="language-plaintext highlighter-rouge">start</code>ë¼ê³  ì´ë¦„ë¶™ì—¬ì§„ ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ê²ë‹ˆë‹¤. ìš°ë¦¬ ì˜ˆì œì˜ ê²½ìš° <code class="language-plaintext highlighter-rouge">my-app</code> íŒ¨í‚¤ì§€ê°€ í•´ë‹¹í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ê°€ì§€ê³  ìˆì£ . http://localhost:3000 ì„ ì—´ê³  HelloWorld ì»´í¬ë„ŒíŠ¸ê°€ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.</p>

<h2 id="ëª¨ë“ˆ-ì—…ë°ì´íŠ¸-í•˜ê¸°">ëª¨ë“ˆ ì—…ë°ì´íŠ¸ í•˜ê¸°</h2>

<p>ìš°ë¦¬ëŠ” ëª¨ë“ˆì„ ìˆ˜ì •í•˜ë©´ ì•±ì´ ê·¸ê²ƒì„ ë°”ë¡œ ë°˜ì˜í•˜ê¸¸ ì›í•˜ì£ . npm ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ì„œ íŒŒì¼ì´ ë³€ê²½ë˜ë©´ ì»´íŒŒì¼ì´ ìë™ìœ¼ë¡œ ì§„í–‰ë˜ê²Œ í•´ë´…ì‹œë‹¤. <code class="language-plaintext highlighter-rouge">/packages/my-module/package.json</code> íŒŒì¼ì˜ ìŠ¤í¬ë¦½íŠ¸ ì„¹ì…˜ì— ì•„ë˜ì™€ ê°™ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">"watch": "tsc --watch"</code></p>

<p>ë‘ë²ˆì§¸ í„°ë¯¸ë„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ <code class="language-plaintext highlighter-rouge">lerna run watch</code>ë¥¼ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
ì´ì œ <code class="language-plaintext highlighter-rouge">HelloWorld</code> ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë˜ë©´ ìš°ë¦¬ ì•±ì€ ìë™ìœ¼ë¡œ ì´ë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.</p>

<h2 id="í—¬í¼-ìŠ¤í¬ë¦½íŠ¸-ì¶”ê°€">í—¬í¼ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€</h2>

<p>ì¢€ ë” í¸ë¦¬í•˜ê²Œ ì“°ê¸° ìœ„í•´ rootì˜ package.jsonì— ëª‡ê°€ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ ì¤ì‹œë‹¤.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"lerna"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.13.1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bootstrap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lerna bootstrap --hoist"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lerna run start --stream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lerna run tsc --stream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lerna run watch --stream"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">--stream</code> í”Œë˜ê·¸ëŠ” ëª…ë ¹ì˜ ê²°ê³¼ë¥¼ ì§€ê¸ˆ ì“°ëŠ” í„°ë¯¸ë„ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.</p>

<p>ì´ì œ ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì´ root ë””ë ‰í† ë¦¬ì˜ npmì„ ì´ìš©í•´ì„œ ëª…ë ¹ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run bootstrap
npm run tsc
npm run watch
npm run start
</code></pre></div></div>

<h2 id="github-ì˜ˆì œ">Github ì˜ˆì œ</h2>

<p>ì„¤ëª…ëœ ì˜ˆì œëŠ” Githubì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br />
<a href="https://github.com/jannikbuschke/lerna-react-typescript-sample">https://github.com/jannikbuschke/lerna-react-typescript-sample</a></p>

<h2 id="í•œê³„">í•œê³„</h2>

<p>ì¢…ì¢… ìš°ë¦¬ê°€ í•œ ì„¸íŒ…ì€ ë§ì½ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤(ìƒˆ íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê²½ìš°, í˜¹ì€ ëª¨ë“ˆë¡œë¶€í„° ìƒˆ íƒ€ì…ì„ exportí•˜ëŠ” ê²½ìš°). ê·¸ ë•Œë§ˆë‹¤ ìš°ë¦¬ëŠ” watch ëª…ë ¹ì„ ì¬ì‹¤í–‰ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì—ë””í„°ê°€ ê°€ë” ìƒˆë¡œ exportëœ íƒ€ì…ì„ ë°œê²¬í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ë„ ë°œìƒí•˜ì£ .</p>

<p>ì´ëŸ° ê²½ìš°ì— ë‹¤ì‹œ ì»´íŒŒì¼í•˜ë„ë¡ ì¬ì‹œì‘ í•˜ê±°ë‚˜ IDEë¥¼ ê»ë‹¤ ì¼œëŠ” ê²ƒì´ ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¢…ì¢… node_modules í´ë”ë¥¼ ì •ë¦¬í•´ ì£¼ëŠ” ê²ƒì´ ë„ì›€ì´ ë  ë•Œë„ ìˆì£ (íŠ¹íˆ ì„œë“œíŒŒí‹° dependencyë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²½ìš°).</p>

<h2 id="ì›ë¬¸">ì›ë¬¸</h2>

<ul>
  <li><a href="https://medium.com/@sisosys7/a-monorepo-setup-with-lerna-react-and-typescript-7b912fb48622">https://medium.com/@sisosys7/a-monorepo-setup-with-lerna-react-and-typescript-7b912fb48622</a></li>
</ul>
:ET