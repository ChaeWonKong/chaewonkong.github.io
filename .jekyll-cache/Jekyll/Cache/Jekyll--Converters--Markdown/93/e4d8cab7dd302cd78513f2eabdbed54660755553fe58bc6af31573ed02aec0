I"‘„<p>ê²½ìš°ì— ë”°ë¼ì„œ í…ìŠ¤íŠ¸ê°€ ì…ë ¥ë˜ëŠ” ë§Œí¼ í…ìŠ¤íŠ¸í•„ë“œì˜ ë„“ì´ê°€ ë„“ì–´ì§€ë„ë¡ êµ¬í˜„í•´ì•¼í•  ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.
ë°”ë¡œ ì•„ë˜ ì‚¬ì§„ ì²˜ëŸ¼ ë§ì´ì£ .</p>

<p><img src="https://firebasestorage.googleapis.com/v0/b/codechats.appspot.com/o/blog%2Fcontent-editable.gif?alt=media" alt="content-editable" /></p>

<p>ì˜¤ëŠ˜ì€ <code class="language-plaintext highlighter-rouge">contenteditable</code> ì†ì„±ì„ ì´ìš©í•´,</p>

<ol>
  <li>7ê¸€ìê¹Œì§€ë§Œ ì…ë ¥ ê°€ëŠ¥í•˜ê³ (maxLength),</li>
  <li>ì‘ì„±í•˜ëŠ” í…ìŠ¤íŠ¸ì˜ ë„ˆë¹„ë§Œí¼ input ì˜ì—­ì˜ ë„ˆë¹„ê°€ í™•ì¥ë˜ëŠ”</li>
</ol>

<p>ê·¸ëŸ° ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="ì°¨ë¡€">ì°¨ë¡€</h2>

<ol>
  <li><a href="#info">contenteditable ì†ì„± ì•Œì•„ë³´ê¸°</a></li>
  <li><a href="#resize">ê¸€ììˆ˜ì— ë”°ë¼ ëŠ˜ì–´ë‚˜ëŠ” contenteditable êµ¬í˜„</a></li>
  <li><a href="#placeholder">contenteditableì´ ì ìš©ëœ ì—˜ë¦¬ë¨¼íŠ¸ì— placeholder ì¶”ê°€í•˜ê¸°</a></li>
  <li><a href="#length-limit">contenteditableì— ê¸€ììˆ˜ ì œí•œ ë„ì…í•˜ê¸°</a></li>
  <li><a href="#complete-code">ì™„ì„± ì½”ë“œ</a></li>
  <li><a href="#ref">ì°¸ê³ ìë£Œ</a></li>
</ol>

<h2 id="contenteditable-ì†ì„±-ì•Œì•„ë³´ê¸°">Contenteditable ì†ì„± ì•Œì•„ë³´ê¸°</h2>

<p><span id="info"></span></p>

<p>HTML5ì˜ ëª¨ë“  ì—˜ë¦¬ë¨¼íŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">contenteditable='true'</code>ë¡œ ì„¤ì •í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ ë‚´ë¶€ì— í…ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p>

<p>contenteditable ì†ì„±ì€ ì—´ê±°í˜•(enum) ì†ì„±ì¸ë°, <code class="language-plaintext highlighter-rouge">true</code>, <code class="language-plaintext highlighter-rouge">false</code> ì´ì™¸ì—ë„ <code class="language-plaintext highlighter-rouge">inherit</code>ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê¸°ë³¸(default)ì€ ë¶€ëª¨ìš”ì†Œì—ì„œ í¸ì§‘ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ìƒì†ë°›ëŠ” <code class="language-plaintext highlighter-rouge">inherit</code>ì…ë‹ˆë‹¤.</p>

<p>ì°¸ê³ ë¡œ, <code class="language-plaintext highlighter-rouge">HTMLElement.isContentEditable</code>ì™€ ê°™ì´ ì ‘ê·¼í•˜ì—¬ HTMLElementì˜ contenteditable ì†ì„±ì„ ë¶ˆë¦¬ì–¸(boolean) ê°’ìœ¼ë¡œë„ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì¦‰, <code class="language-plaintext highlighter-rouge">input</code>, <code class="language-plaintext highlighter-rouge">textarea</code>ì™€ ê°™ì€ ì¢…ë˜ì— í…ìŠ¤íŠ¸í•„ë“œë¡œ ì‚¬ìš©ë˜ë˜ ì—˜ë¦¬ë¨¼íŠ¸ ì´ì™¸ì— <code class="language-plaintext highlighter-rouge">div</code>, <code class="language-plaintext highlighter-rouge">span</code> ë“±ì˜ ì—˜ë¦¬ë¨¼íŠ¸ë„ í…ìŠ¤íŠ¸ í•„ë“œë¡œ ë³€í™”ì‹œí‚¬ ìˆ˜ ìˆëŠ” ê²ƒì´ì£ .</p>
<blockquote>
  <p>ì°¸ê³ : <a href="https://developer.mozilla.org/ko/docs/Web/Guide/HTML/Content_Editable">MDN Docs</a></p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">contenteditable</code> ì†ì„±ì€ ê±°ì˜ ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ í­ë„“ê²Œ ì§€ì›ë©ë‹ˆë‹¤.</p>

<p><a href="https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable">
  <img alt="MDN content editable browser support" src="https://firebasestorage.googleapis.com/v0/b/codechats.appspot.com/o/blog%2Fcontenteditable-browser-support.png?alt=media" />
</a></p>
<blockquote>
  <p>ì¶œì²˜: <a href="https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable">MDN HTML ì›¹/HTML/ì „ì—­ ìš”ì†Œ/contenteditable</a></p>
</blockquote>

<p><span id="resize"></span></p>

<h2 id="ê¸€ììˆ˜ì—-ë”°ë¼-ëŠ˜ì–´ë‚˜ëŠ”-contenteditable-êµ¬í˜„">ê¸€ììˆ˜ì— ë”°ë¼ ëŠ˜ì–´ë‚˜ëŠ” contenteditable êµ¬í˜„</h2>

<p>ë‹¤ìŒìœ¼ë¡œ ì…ë ¥ë˜ëŠ” ê¸€ììˆ˜ì— ë¹„ë¡€í•´ ë„ˆë¹„ê°€ ëŠ˜ì–´ë‚˜ëŠ” contenteditable ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.<br />
í¸ì˜ìƒ ê¸€ ìµœìƒë‹¨ì—ì„œ ë³´ì—¬ë“œë¦° gifì²˜ëŸ¼ ë°‘ì¤„ë¡œ í…ìŠ¤íŠ¸ ì…ë ¥ ì˜ì—­ì„ í‘œí˜„í•˜ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Dispatch</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">styled-components</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Input</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">span</span><span class="s2">`
  display: inline-block;
  font-weight: lighter;
  border-bottom: 1px solid #232323;
  font-size: 34px;
  max-width: calc(100% - 32px);
  min-width: 50px;
`</span>

<span class="kr">interface</span> <span class="nx">Props</span><span class="p">{</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">onChange</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">SetStateAction</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Input</span>
      <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
      <span class="na">contentEditable</span>
      <span class="na">onInput</span><span class="p">=</span><span class="si">{</span>
          <span class="p">(</span><span class="nx">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">onChange</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>
        <span class="si">}</span>
    <span class="p">/&gt;</span>
  <span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Input</span>
        <span class="na">placeholder</span><span class="p">=</span><span class="s">'ì´ë¦„ ë˜ëŠ” ì• ì¹­'</span>
        <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
        <span class="na">contentEditable</span>
        <span class="na">onInput</span><span class="p">=</span><span class="si">{</span>
            <span class="p">(</span><span class="nx">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">onChange</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>
          <span class="si">}</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span> <span class="na">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>
</code></pre></div></div>

<p>ìš°ì„  ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ inputì˜ changeì™€ valueë¥¼ controlí•˜ë„ë¡ ë§Œë“¤ì–´ ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<details><summary>`div`ë¡œ ìš”ì†Œë¥¼ ê°ì‹¼ ì´ìœ </summary>
  <pre><code>
  `div`ë¡œ ìš”ì†Œë¥¼ ê°ì‹¼ ì´ìœ ëŠ”, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ `display: flex`ê°€ ì ìš©ëœ ë¶€ëª¨ìš”ì†Œì˜ ìì‹ìš”ì†Œë¡œ ì‚¬ìš©ë˜ë”ë¼ë„ `flex`ê°€ ì ìš©ë˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
  `div`ë¡œ ê°ì‹¸ì§€ ì•Šê³  ì‚¬ìš©í•  ê²½ìš°, ë¶€ëª¨ìš”ì†Œê°€ `display: flex`ë¼ë©´, ì´ì— ì˜í–¥ì„ ë°›ì•„ widthê°€ fullë¡œ ì°¨ê²Œ ë˜ì–´, ì…ë ¥ ì»¨í…ì¸ ì— ë¹„ë¡€í•´ ì»¤ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
  </code></pre>
</details>
<p><br /></p>

<p>ì¦‰, <code class="language-plaintext highlighter-rouge">value</code>ì™€ <code class="language-plaintext highlighter-rouge">onChange</code>ë¥¼ propsë¡œ ë°›ëŠ” ê²ƒì´ì£ . contenteditableë¡œ ì„¤ì •ëœ ì—˜ë¦¬ë¨¼íŠ¸ì˜ <code class="language-plaintext highlighter-rouge">innerText</code> ê°’ì´ ë³€ê²½ë  ê²½ìš°,
<code class="language-plaintext highlighter-rouge">props.onChange</code>ê°€ ë™ì‘í•´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ì‚¬ì‹¤ì„ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.</p>

<p>Reactì—ì„œ <code class="language-plaintext highlighter-rouge">contenteditable={ true }</code>ì˜ ê²½ìš° <code class="language-plaintext highlighter-rouge">contenteditable</code>ë¡œë§Œ ë†“ì•„ë„ ê¸°ë³¸ê°’(default value)ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">true</code>ê°€ ë“¤ì–´ê°€ë¯€ë¡œ,
ì†ì„±ê°’ì—ëŠ” <code class="language-plaintext highlighter-rouge">contenteditable</code>ë§Œ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">spellCheck</code> ì†ì„±ì€ ì˜¤íƒ€ê°€ ìˆì„ ê²½ìš° ë¶‰ì€ ë¬¼ê²° ë°‘ì¤„ì„ í‘œì‹œí•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’(default value)ì€ <code class="language-plaintext highlighter-rouge">true</code>ì…ë‹ˆë‹¤.</p>

<p>ì œ ê²½ìš°, ì‚¬ìš©ìì˜ ë‹‰ë„¤ì„ì„ ì…ë ¥ë°›ëŠ” í…ìŠ¤íŠ¸ í•„ë“œì´ê¸° ë•Œë¬¸ì—, ì˜¤íƒ€ë¥¼ ê²€ì¦í•˜ì§€ ì•Šë„ë¡ <code class="language-plaintext highlighter-rouge">spellCheck={ false }</code>ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p>

<p><strong><code class="language-plaintext highlighter-rouge">onInput</code> ì†ì„±ìœ¼ë¡œ ì…ë ¥ê°’ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. contenteditableì´ ì„¤ì •ëœ ìš”ì†Œ(element)ì˜ innerText(í˜¹ì€ innerHTML)ì— ì‚¬ìš©ìê°€ â€œì“°ê¸°â€ë¥¼ ì§„í–‰í•  ê²½ìš° ë°œìƒë˜ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.</strong></p>

<p>TypeScriptë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ onInputì—ë„ íƒ€ì…ì„ ì ì ˆíˆ ì§€ì •í•´ ì¤ë‹ˆë‹¤.
span ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì´ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ, <code class="language-plaintext highlighter-rouge">React.ChangeEvent&lt;HTMLSpanElement&gt;</code>ê°€ Eventì˜ íƒ€ì…ì´ ë©ë‹ˆë‹¤.</p>

<p><span id="placeholder"></span></p>

<h2 id="contenteditableì´-ì ìš©ëœ-ì—˜ë¦¬ë¨¼íŠ¸ì—-placeholder-ì¶”ê°€í•˜ê¸°">contenteditableì´ ì ìš©ëœ ì—˜ë¦¬ë¨¼íŠ¸ì— placeholder ì¶”ê°€í•˜ê¸°</h2>

<p>ë‹¤ìŒìœ¼ë¡œ placeholderë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>inputì´ë‚˜ textareaì™€ëŠ” ë‹¬ë¦¬ <strong>contenteditable ì†ì„±ì„ <code class="language-plaintext highlighter-rouge">true</code>ë¡œ ì£¼ì–´ë„ placeholder ì†ì„±ì´ ë°”ë¡œ ì ìš©ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.</strong></p>

<p>ë³„ë„ë¡œ ì„¤ì •í•´ì¤˜ì•¼ë§Œ í•˜ëŠ” ê²ƒì´ì£ .</p>

<p>í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ì˜ CSSì— ë‹¤ìŒ ì†ì„±ì„ ì¶”ê°€í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">//</span> <span class="nt">placeholder</span>
<span class="o">&amp;</span><span class="nd">:empty:before</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="n">attr</span><span class="p">(</span><span class="n">placeholder</span><span class="p">);</span>
  <span class="nl">color</span><span class="p">:</span> <span class="n">grey</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
<span class="p">}</span><span class="o">;</span>
</code></pre></div></div>

<p>ë˜, contenteditableì´ ì„¤ì •ëœ ì—˜ë¦¬ë¨¼íŠ¸ì— placeholderë„ ì¶”ê°€í•´ ì¤˜ì•¼ í•˜ì£ .</p>

<p><code class="language-plaintext highlighter-rouge">placeholder='ì´ë¦„ ë˜ëŠ” ì• ì¹­'</code>ì„ JSX ìš”ì†Œì˜ ì†ì„±ìœ¼ë¡œ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.</p>

<p>ì¦‰, ìš°ë¦¬ì˜ ì½”ë“œëŠ” ì•„ë˜ì²˜ëŸ¼ ë°”ë€Œê²Œ ë©ë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Dispatch</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">styled-components</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Input</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">span</span><span class="s2">`
  display: inline-block;
  font-weight: lighter;
  border-bottom: 1px solid #232323;
  font-size: 34px;
  max-width: calc(100% - 32px);
  min-width: 50px;

  // placeholder
  &amp;:empty:before {
    content: attr(placeholder);
    color: grey;
    display: inline-block;
  };
`</span>

<span class="kr">interface</span> <span class="nx">Props</span><span class="p">{</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">onChange</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">SetStateAction</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Input</span>
        <span class="na">placeholder</span><span class="p">=</span><span class="s">'ì´ë¦„ ë˜ëŠ” ì• ì¹­'</span>
        <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
        <span class="na">contentEditable</span>
        <span class="na">onInput</span><span class="p">=</span><span class="si">{</span>
            <span class="p">(</span><span class="nx">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">onChange</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>
          <span class="si">}</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span> <span class="na">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">};</span>
</code></pre></div></div>

<p><span id="length-limit"></span></p>

<h2 id="contenteditableì—-ê¸€ììˆ˜-ì œí•œ-ë„ì…í•˜ê¸°">contenteditableì— ê¸€ììˆ˜ ì œí•œ ë„ì…í•˜ê¸°</h2>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì…ë ¥ ê°€ëŠ¥í•œ ê¸€ììˆ˜ì— ì œí•œì„ ë‘ì–´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>ì´ ë¶€ë¶„ì€ ì‚´ì§ hackyí•œ í•´ê²°ì±…ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
refë¥¼ ì´ìš©í•´ contenteditableì´ ì ìš©ëœ ìš”ì†Œë¥¼ ë‹¤ë£¨ê³ , valueë¥¼ ë„˜ê²¨ì£¼ëŠ” ê²ƒì€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤.</p>

<p>ì œ ìŠ¤ìŠ¤ë¡œëŠ” ì•„ì§ best practiceë¥¼ ì°¾ì§€ ëª»í•œ ìƒí™©ì´ê³ , <strong>ë¯¸ë¦¬ ì§€ì •í•œ ê¸€ììˆ˜ë¥¼ ì´ˆê³¼í•  ê²½ìš°, ì…ë ¥ ìì²´ë¥¼ ë¹„í™œì„±í™” í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ëŒ€ì‘</strong>í•´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>

<p>ë¨¼ì € refë¥¼ ì‚¬ìš©í•´ì•¼ê² ì£ . <code class="language-plaintext highlighter-rouge">useRef</code>ë¥¼ importí•´ì£¼ê³ , ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">const ref = useRef&lt;HTMLSpanElement&gt;(null);</code></p>

<p>ë˜, <code class="language-plaintext highlighter-rouge">editable: boolean</code>ì„ stateì—ì„œ ê´€ë¦¬í•˜ë„ë¡ <code class="language-plaintext highlighter-rouge">useState</code>ë„ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Dispatch</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="c1">// ...</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">editable</span><span class="p">,</span> <span class="nx">setEditable</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">editable</code> ì†ì„±ì´ <code class="language-plaintext highlighter-rouge">true</code>ì¼ ê²½ìš°ì—ë§Œ contenteditableì´ í™œì„±í™”ë˜ì–´ í…ìŠ¤íŠ¸ ì…ë ¥ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ, ì¡°ê±´ë¶€ë¡œ ì…ë ¥ê°’ì„ ë‹¤ë¤„ì¤„ event-handlerë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ìµœëŒ€ ì…ë ¥ê°€ëŠ¥í•œ ê¸€ììˆ˜</span>
<span class="kd">const</span> <span class="nx">MAX_LENGTH</span> <span class="o">=</span> <span class="mi">7</span>

<span class="c1">// onInput handler</span>
<span class="kd">const</span> <span class="nx">handleInputEvent</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">newValue</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="nx">MAX_LENGTH</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">onChange</span><span class="p">(</span><span class="nx">newValue</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<p>lengthê°€ <code class="language-plaintext highlighter-rouge">MAX_LENGTH</code> ë³´ë‹¤ ì»¤ì§ˆ ê²½ìš°, <code class="language-plaintext highlighter-rouge">setEditable(false)</code>ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ contenteditableì´ ì„¤ì •ëœ ì—˜ë¦¬ë¨¼íŠ¸ì˜ contenteditable ì†ì„±ì˜ ê°’ì„ <code class="language-plaintext highlighter-rouge">contenteditable={ true }</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">contenteditable={ editable }</code>ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.</p>

<p>ë”ë¶ˆì–´ <code class="language-plaintext highlighter-rouge">onInput={ handleInputEvent }</code>ìœ¼ë¡œ ë³€ê²½ë„ ì§„í–‰í•´ ì¤ë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">editable</span><span class="p">,</span> <span class="nx">setEditable</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  
  <span class="c1">// ìµœëŒ€ ì…ë ¥ê°€ëŠ¥í•œ ê¸€ììˆ˜</span>
  <span class="kd">const</span> <span class="nx">MAX_LENGTH</span> <span class="o">=</span> <span class="mi">7</span>

  <span class="c1">// onInput handler</span>
  <span class="kd">const</span> <span class="nx">handleInputEvent</span> <span class="o">=</span> <span class="p">(</span><span class="na">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">newValue</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="nx">MAX_LENGTH</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">onChange</span><span class="p">(</span><span class="nx">newValue</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Input</span>
        <span class="na">ref</span><span class="p">=</span><span class="si">{</span> <span class="nx">ref</span> <span class="si">}</span>
        <span class="na">placeholder</span><span class="p">=</span><span class="s">'ì´ë¦„ ë˜ëŠ” ì• ì¹­'</span>
        <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
        <span class="na">contentEditable</span><span class="p">=</span><span class="si">{</span> <span class="nx">editable</span><span class="si">}</span>
        <span class="na">onInput</span><span class="p">=</span><span class="si">{</span> <span class="nx">handleInputEvent</span> <span class="si">}</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span> <span class="na">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì—¬ê¸°ì„œ ë¬¸ì œê°€ ìˆì£ . <code class="language-plaintext highlighter-rouge">contenteditable={ true }</code>ë¡œ ì„¤ì •í•´ì£¼ëŠ” ë°©ë²•ì´ í•„ìš”í•˜ê² ì£ . ê²°êµ­ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²ƒì€ ì‚¬ìš©ìë¡œë¶€í„° í…ìŠ¤íŠ¸ ì…ë ¥ì„ ë°›ëŠ” ê²ƒì´ë‹ˆê¹Œìš”.</p>

<p>ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ í´ë¦­í•˜ë©´, <code class="language-plaintext highlighter-rouge">contenteditable={ true }</code>ê°€ ë˜ë„ë¡ <code class="language-plaintext highlighter-rouge">onClick</code> ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">onClick={ () =&gt; setEditable(true) }</code></p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// ...</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setEditable</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="si">}</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Input</span>
        <span class="na">ref</span><span class="p">=</span><span class="si">{</span> <span class="nx">ref</span> <span class="si">}</span>
        <span class="na">placeholder</span><span class="p">=</span><span class="s">'ì´ë¦„ ë˜ëŠ” ì• ì¹­'</span>
        <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
        <span class="na">contentEditable</span><span class="p">=</span><span class="si">{</span> <span class="nx">editable</span><span class="si">}</span>
        <span class="na">onInput</span><span class="p">=</span><span class="si">{</span> <span class="nx">handleInputEvent</span> <span class="si">}</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span> <span class="na">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span id="complete-code"></span></p>

<h3 id="ì™„ì„±-ì½”ë“œ">ì™„ì„± ì½”ë“œ</h3>

<p>ìµœì¢…ì ì¸ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>

<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Dispatch</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">styled-components</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Input</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">span</span><span class="s2">`
  display: inline-block;
  font-weight: lighter;
  border-bottom: 1px solid #232323;
  font-size: 34px;
  max-width: calc(100% - 32px);
  min-width: 50px;

  // placeholder
  &amp;:empty:before {
    content: attr(placeholder);
    color: grey;
    display: inline-block;
  };
`</span>

<span class="kr">interface</span> <span class="nx">Props</span><span class="p">{</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">onChange</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">SetStateAction</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">AutoWidthInput</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">value</span><span class="p">,</span>
  <span class="nx">onChange</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">editable</span><span class="p">,</span> <span class="nx">setEditable</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  
  <span class="c1">// ìµœëŒ€ ì…ë ¥ê°€ëŠ¥í•œ ê¸€ììˆ˜</span>
  <span class="kd">const</span> <span class="nx">MAX_LENGTH</span> <span class="o">=</span> <span class="mi">7</span>

  <span class="c1">// onInput handler</span>
  <span class="kd">const</span> <span class="nx">handleInputEvent</span> <span class="o">=</span> <span class="p">(</span><span class="na">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ChangeEvent</span><span class="o">&lt;</span><span class="nx">HTMLSpanElement</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">newValue</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="nx">MAX_LENGTH</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">onChange</span><span class="p">(</span><span class="nx">newValue</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setEditable</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="si">}</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Input</span>
        <span class="na">ref</span><span class="p">=</span><span class="si">{</span> <span class="nx">ref</span> <span class="si">}</span>
        <span class="na">placeholder</span><span class="p">=</span><span class="s">'ì´ë¦„ ë˜ëŠ” ì• ì¹­'</span>
        <span class="na">spellCheck</span><span class="p">=</span><span class="si">{</span> <span class="kc">false</span> <span class="si">}</span>
        <span class="na">contentEditable</span><span class="p">=</span><span class="si">{</span> <span class="nx">editable</span><span class="si">}</span>
        <span class="na">onInput</span><span class="p">=</span><span class="si">{</span> <span class="nx">handleInputEvent</span> <span class="si">}</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span> <span class="na">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h2>

<p><span id="ref"></span></p>

<ul>
  <li><a href="https://developer.mozilla.org/ko/docs/Web/Guide/HTML/Content_Editable">MDN Docs</a></li>
  <li><a href="https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable">MDN HTML ì›¹/HTML/ì „ì—­ ìš”ì†Œ/contenteditable</a></li>
  <li><a href="https://stackoverflow.com/questions/1391278/contenteditable-change-events/6263537">StackOverflow - contenteditable change events</a></li>
  <li><a href="https://stackoverflow.com/questions/45306325/react-contenteditable-and-cursor-position">StackOverflow - React contentEditable and cursor position</a></li>
</ul>
:ET